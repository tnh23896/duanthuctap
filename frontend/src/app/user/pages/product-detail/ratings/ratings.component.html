<div class="border rounded-2 px-3 py-2 mt-3 bg-white">
  <h3 class="mb-3">Bình luận</h3>

  <div class="comment" *ngFor="let rating of ratings">
    <div class="">
      <img [src]="imgUrl + rating?.user?.avatar" width="30" alt="" />
      <span class="ms-2">{{ rating?.user?.name }}</span> -<span class="ms-2">{{
        rating?.created_at | date: "dd/MM/yyyy HH:mm"
        }}</span>
      <span class="ms-2">
        <i *ngFor="let i of renderStars(rating.rating)" class="fa-solid fa-star"
          style="color: #3cc86d"></i>
      </span>
    </div>
    <p class="" style="font-size: 13px">
      {{ rating.comment }}
    </p>
  </div>
  <form class="mt-3" #form="ngForm" (ngSubmit)="onSubmit(form,user?.id,bookId)" *ngIf="isAllowRating == 1">
    <div class="d-flex flex-start w-100">
      <img class="rounded-circle shadow-1-strong me-3" [src]="imgUrl + user?.avatar" alt="avatar"
        width="40" height="40" />
      <div class="form-outline w-100">
        <div class="d-flex">
          <input type="radio" hidden  name="rating" ngModel value="1" id="star1"
            (change)="setSelectedStars(1)" />
          <input type="radio" hidden  name="rating" ngModel value="2" id="star2"
            (change)="setSelectedStars(2)" />
          <input type="radio" hidden  name="rating" ngModel value="3" id="star3"
            (change)="setSelectedStars(3)" />
          <input type="radio" hidden  name="rating" ngModel value="4" id="star4"
            (change)="setSelectedStars(4)" />
          <input type="radio" hidden  name="rating" ngModel value="5" id="star5"
            (change)="setSelectedStars(5)" />
          <label for="star1"><i class="fa-solid fa-star"
              style="color: #ccc; cursor: pointer"></i></label>
          <label for="star2"><i class="fa-solid fa-star"
              style="color: #ccc; cursor: pointer"></i></label>
          <label for="star3"><i class="fa-solid fa-star"
              style="color: #ccc; cursor: pointer"></i></label>
          <label for="star4"><i class="fa-solid fa-star"
              style="color: #ccc; cursor: pointer"></i></label>
          <label for="star5"><i class="fa-solid fa-star"
              style="color: #ccc; cursor: pointer"></i></label>
        </div>
        <textarea class="form-control" id="textAreaExample" rows="4" style="background: #fff"
          name="comment" ngModel></textarea>
        <label class="form-label" for="textAreaExample">Message</label>
      </div>
    </div>
    <div class="float-end mt-2 pt-1">
      <button class="btn btn-primary btn-sm">Post comment</button>
    </div>
  </form>
</div>
